<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blockchain Messenger</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    >
  </head>
  <style>
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
  <body class="bg-gray-100 font-[Poppins]">
    <div
      class="max-w-xl mx-auto h-dvh flex flex-col border-x bg-white rounded-lg overflow-hidden"
    >
      <header
        class="px-4 py-2 bg-white border-b border-gray-200 flex justify-between items-center"
      >
        <h1 class="text-gray-800 text-lg font-medium">Blockchain Messenger</h1>
        <button
          class="px-3 py-1 tex-sm bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition"
          onclick="login()"
          id="login"
        >
          Login
        </button>
      </header>

      <main
        class="flex-1 overflow-y-auto px-2 py-4 space-y-3 bg-gray-200 hide-scrollbar"
        id="messages"
      >
        <div class="flex justify-center items-center h-full" id="alert">
          <h1 class="m-auto text-center max-w-sm">
            Anda harus login dengan <strong>MetaMask</strong> untuk mengakses
            Global Chat!
          </h1>
        </div>
      </main>

      <div
        class="border-t border-gray-200 p-2 text-xs line-clamp-1 block"
        id="identity"
      >
        Login as <strong id="address"></strong>
      </div>

      <footer class="p-2 bg-white flex items-center">
        <input
          type="text"
          placeholder="Tulis pesan..."
          id="text"
          autofocus
          class="flex-1 text-xs border border-gray-300 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-300"
        />
        <button
          class="ml-2 px-3 py-1 text-xs bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"
          onclick="send()"
        >
          Kirim
        </button>
      </footer>

      <div
        class="px-4 py-2 !text-[10px] bg-white border-t border-gray-200 text-center text-xs text-gray-500"
      >
        <p>
          Made with ❤️ by <a
            href="https://github.com/zeative"
            class="text-indigo-600 hover:underline"
          >zeative</a>
          · Source <a
            href="https://github.com/zeative/chat-blockchain"
            class="text-indigo-600 hover:underline"
          >chat-blockchain</a>
        </p>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.15.0/ethers.umd.min.js"
      type="application/javascript"
    ></script>
    <script src="scripts/abi.js"></script>
    <script src="scripts/ethers.js"></script>
  </body>
</html>
